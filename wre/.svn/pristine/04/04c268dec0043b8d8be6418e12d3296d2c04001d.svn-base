<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ko"><head><title>브라우저의 LocalStorage에 값을 저장, 삭제, 반환받기</title><link rel="stylesheet" href="css/book.css" type="text/css" /><meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8" /><meta name="EPB-UUID" content="db7d7f842b451ed6" /></head><body><div id="content"><h1 id="r_43ca8aea822cc19e" class="chapter_title">브라우저의 LocalStorage에 값을 저장, 삭제, 반환받기</h1><h1 id="r_0214a58809c45e49" class="element heading1" data-element-id="0214a58809c45e49"><div class="r_heading_inner"><span class="heading1_n">1</span><span>개요</span></div></h1><pre id="r_9c8894f559eef3e1" class="element pre" data-element-id="9c8894f559eef3e1">'$p.local' 객체 하위의 함수를 이용하여 브라우저의 LocalStorage에 값을 저장, 삭제, 반환받습니다.</pre><p id="r_ec72bcb3431cdd86" class="element r_example_link_p" data-element-id="ec72bcb3431cdd86"><a class="link" href="http://example.websquare.kr/exampleLink.html?p=P00268">P00270</a></p><div id="r_42cdd305805e9942" class="element caution" data-element-id="42cdd305805e9942"><p>브라우저의 LocalStorage는 모든 화면에 영향을 미치므로 사용 시 주의가 필요합니다.</p></div><div id="r_c63d237e76a66296" class="element note" data-element-id="c63d237e76a66296"><p>'$p.local'객체 하위의 함수와 속성은 HTML5 LocalStorage를 사용하여 구현된 기능입니다.</p><p>LocalStorage는 도메인(사이트)별로 브라우저에서 임의의 영역에 데이터를 저장하는 기능으로, 브라우저 설정에 따라 저장할 수 있는 데이터 양이 결정됩니다.</p><p>쿠키와 비슷하지만 만료일이 없고, 브라우저에 따라 저장 가능한 용량이 5MB ~ 10MB 사이입니다.</p><p>멀티 브라우징을 위해 5MB 이하로 저장하는 것을 권장합니다.</p><p>IE 하위 버전도 지원되며 세부 내용 및 스펙은 http://www.w3.org/TR/webstorage/#storage 참조하세요.</p></div><h1 id="r_d7481333f083fafa" class="element heading1" data-element-id="d7481333f083fafa"><div class="r_heading_inner"><span class="heading1_n">2</span><span>구현된 기능</span></div></h1><ul id="r_9a1100997e8228b7" class="element unordered_list" data-element-id="9a1100997e8228b7"><li><p>LocalStorage에 값을 저장하기</p></li><li><p>LocalStorage에 값을 반환받기</p></li><li><p>LocalStorage에 값을 삭제하기</p></li></ul><h1 id="r_09a20916a46e17de" class="element heading1" data-element-id="09a20916a46e17de"><div class="r_heading_inner"><span class="heading1_n">3</span><span>예제 테스트 방법</span></div></h1><h2 id="r_9969c5a33fcec20c" class="element heading2" data-element-id="9969c5a33fcec20c"><div class="r_heading_inner"><span class="heading2_n">3.1</span><span>화면의 초기 상태 확인하기</span></div></h2><pre id="r_9124404ed2b1395c" class="element pre" data-element-id="9124404ed2b1395c">화면이 로딩되면 예제 테스트를 위해 기 저장된 LocalStorage의 키 "EXAMPLE_P00270"를 삭제합니다.</pre><pre id="r_247e7b7712f36f66" class="element pre" data-element-id="247e7b7712f36f66">다음은 화면에 구성된 각 버튼의 기능 설명입니다.</pre><ul id="r_d901872b203f8913" class="element unordered_list" data-element-id="d901872b203f8913"><li><p><span class="r_btn_style_span">페이지 열기</span> : 별도의 페이지가 열립니다. 저장된 LocalStorage의 값을 반환 받는 테스트를 할 수 있습니다.</p></li><li><p><span class="r_exec_btn_style_span">$p.local.setItem</span> : LocalStorage의 키 "EXAMPLE_P00270"에 "한글_Abc_一二三"을 할당합니다.</p></li><li><p><span class="r_exec_btn_style_span">$p.local.getItem</span> : LocalStorage의 키 "EXAMPLE_P00270"에 할당된 값을 반환받습니다.</p></li><li><p><span class="r_exec_btn_style_span">$p.local.removeItem</span> : LocalStorage의 키 "EXAMPLE_P00270"를 삭제합니다.</p></li></ul><h2 id="r_53be3d0bec7fa40b" class="element heading2" data-element-id="53be3d0bec7fa40b"><div class="r_heading_inner"><span class="heading2_n">3.2</span><span>LocalStorage에 값을 저장하고 반환받기</span></div></h2><p id="r_1fee740eea0b93b7" class="element r_heading_dt_p" data-element-id="1fee740eea0b93b7">STEP1. LocalStorage에 저장된 값을 확인합니다.</p><pre id="r_b1ed383348e4e475" class="element pre" data-element-id="b1ed383348e4e475">버튼 <span class="r_exec_btn_style_span">$p.local.getItem</span>를 클릭합니다.
LocalStorage에 키 "EXAMPLE_P00270"에 할당된 값을 확인합니다.
저장된 값이 없기 때문에 null이 반환됩니다.</pre><pre id="r_e5be233c1fa5e0a1" class="element pre" data-element-id="e5be233c1fa5e0a1">영역 [<span class="r_blue001_span">로그 확인</span>]에 출력된 로그를 확인합니다.
-----------------------------------------------------------------
로그 예시 
[15:42:11] # LocalStorage의 키 "EXAMPLE_P00270"의 값은 "null" 입니다.
-----------------------------------------------------------------
(브라우저의 개발자 도구 콘솔에도 로그가 출력되며, 반환된 객체를 확인할 수 있습니다.)</pre><p id="r_11208c4181ee6b49" class="element r_heading_dt_p" data-element-id="11208c4181ee6b49">STEP2. LocalStorage에 값을 저장합니다.</p><pre id="r_1f04ec2005f511b9" class="element pre" data-element-id="1f04ec2005f511b9">버튼 <span class="r_exec_btn_style_span">$p.local.setItem</span>를 클릭합니다.
LocalStorage의 키 "EXAMPLE_P00270"에 "한글_Abc_一二三"을 할당합니다.</pre><pre id="r_92768e297902d226" class="element pre" data-element-id="92768e297902d226">영역 [<span class="r_blue001_span">로그 확인</span>]에 로그가 출력됩니다.
-----------------------------------------------------------------
로그 예시 
[15:43:37] # LocalStorage의 키 "EXAMPLE_P00270"에 "한글_Abc_一二三"을 할당합니다.
-----------------------------------------------------------------
(브라우저의 개발자 도구 콘솔에도 로그가 출력됩니다)</pre><p id="r_e2a7c3af8bf64527" class="element r_heading_dt_p" data-element-id="e2a7c3af8bf64527">STEP3. LocalStorage에 저장된 값을 반환받습니다.</p><pre id="r_a76ca9f19610e3c4" class="element pre" data-element-id="a76ca9f19610e3c4">버튼 <span class="r_exec_btn_style_span">$p.local.getItem</span>를 클릭합니다.
LocalStorage에 키 "EXAMPLE_P00270"에 할당된 값을 반환받습니다.
반환 값 예시) '한글_Abc_一二三'</pre><pre id="r_a8779bcde6dcad19" class="element pre" data-element-id="a8779bcde6dcad19">영역 [<span class="r_blue001_span">로그 확인</span>]에 출력된 로그를 확인합니다.
-----------------------------------------------------------------
로그 예시 
[15:44:51] # LocalStorage의 키 "EXAMPLE_P00270"의 값은 "한글_Abc_一二三" 입니다.
-----------------------------------------------------------------
(브라우저의 개발자 도구 콘솔에도 로그가 출력되며, 반환된 객체를 확인할 수 있습니다.)</pre><p id="r_e606cd17036facd4" class="element r_heading_dt_p" data-element-id="e606cd17036facd4">STEP4. 별도의 페이지를 새 창으로 열기</p><pre id="r_84df6bceb37e1514" class="element pre" data-element-id="84df6bceb37e1514">버튼 <span class="r_btn_style_span">페이지 열기</span>를 클릭합니다.
새 창으로 페이지 "P00270P01.xml"가 열립니다.</pre><p id="r_af60b5818ce43ec0" class="element r_heading_dt_p" data-element-id="af60b5818ce43ec0">STEP5. 별도의 페이지에서 LocalStorage에 저장된 값을 반환받습니다.</p><pre id="r_e7023493beb2c870" class="element pre" data-element-id="e7023493beb2c870">새 창으로 열린 페이지에서 버튼 <span class="r_exec_btn_style_span">$p.local.getItem</span>을 클릭합니다.
LocalStorage에 키 "EXAMPLE_P00270"에 할당된 값을 반환받습니다.
반환 값 예시) '한글_Abc_一二三'</pre><pre id="r_2d0b6ca03371a046" class="element pre" data-element-id="2d0b6ca03371a046">영역 [<span class="r_blue001_span">로그 확인</span>]에 출력된 로그를 확인합니다.
-----------------------------------------------------------------
로그 예시 
[15:51:41] # LocalStorage의 키 "EXAMPLE_P00270"의 값은 "한글_Abc_一二三" 입니다.
-----------------------------------------------------------------
(브라우저의 개발자 도구 콘솔에도 로그가 출력되며, 반환된 객체를 확인할 수 있습니다.)</pre><h2 id="r_5ec4af55cadd4ad0" class="element heading2" data-element-id="5ec4af55cadd4ad0"><div class="r_heading_inner"><span class="heading2_n">3.3</span><span>LocalStorage에 저장된 값을 삭제하기</span></div></h2><p id="r_5dfb7c0dd2a1149c" class="element r_heading_dt_p" data-element-id="5dfb7c0dd2a1149c">STEP1. LocalStorage에 값을 삭제합니다.</p><pre id="r_9bc9f78c9dc3a481" class="element pre" data-element-id="9bc9f78c9dc3a481">버튼 <span class="r_exec_btn_style_span">$p.local.removeItem</span>를 클릭합니다.
LocalStorage의 키 "EXAMPLE_P00270"를 삭제합니다.</pre><pre id="r_4285f02dfb3b46fb" class="element pre" data-element-id="4285f02dfb3b46fb">영역 [<span class="r_blue001_span">로그 확인</span>]에 로그가 출력됩니다.
-----------------------------------------------------------------
로그 예시 
[15:58:50] # LocalStorage의 키 "EXAMPLE_P00270"를 삭제합니다.
-----------------------------------------------------------------
(브라우저의 개발자 도구 콘솔에도 로그가 출력됩니다)</pre><p id="r_2c049761de5e7db8" class="element r_heading_dt_p" data-element-id="2c049761de5e7db8">STEP2. LocalStorage에 저장된 값을 확인합니다.</p><pre id="r_f63de2f23eb4afd8" class="element pre" data-element-id="f63de2f23eb4afd8">버튼 <span class="r_exec_btn_style_span">$p.local.getItem</span>를 클릭합니다.
LocalStorage에 키 "EXAMPLE_P00270"에 할당된 값을 확인합니다.
반환 값 예시) null</pre><pre id="r_3bbded7ba2bf93aa" class="element pre" data-element-id="3bbded7ba2bf93aa">영역 [<span class="r_blue001_span">로그 확인</span>]에 출력된 로그를 확인합니다.
-----------------------------------------------------------------
로그 예시 
[16:00:02] # LocalStorage의 키 "EXAMPLE_P00270"의 값은 "null" 입니다.
-----------------------------------------------------------------
(브라우저의 개발자 도구 콘솔에도 로그가 출력되며, 반환된 객체를 확인할 수 있습니다.)</pre><h1 id="r_76a6b80dbe29c185" class="element heading1" data-element-id="76a6b80dbe29c185"><div class="r_heading_inner"><span class="heading1_n">4</span><span>구현 예시</span></div></h1><h2 id="r_f2a5b0a9cabc76a1" class="element heading2" data-element-id="f2a5b0a9cabc76a1"><div class="r_heading_inner"><span class="heading2_n">4.1</span><span>LocalStorage에 값을 저장하기</span></div></h2><pre id="r_c943cb7aa82eda19" class="element pre" data-element-id="c943cb7aa82eda19">원하는 시점에 함수 '$p.local.setItem'를 이용하여 스크립트를 작성합니다.</pre><p id="r_6ac0d23210537dfc" class="element r_bold_p" data-element-id="6ac0d23210537dfc">[소스 코드 예시]</p><div id="r_cd7d5020342a56c4" class="element code support_code_numbering" data-element-id="cd7d5020342a56c4"><pre><span class="digits_1 code_line"></span><span class="r_h_comment_span">// 예제 파일에서는 스크립트 scwin.btn_exam1_onclick에 작성되어 있습니다.</span>
<span class="digits_1 code_line"></span>
<span class="digits_1 code_line"></span><span class="r_h_comment_span">// LocalStorage의 키 "EXAMPLE_P00270"에 "한글_Abc_一二三"을 할당합니다.</span>
<span class="digits_1 code_line"></span>$p.local.setItem(<span class="r_h_string_span">"EXAMPLE_P00270"</span>, <span class="r_h_string_span">"한글_Abc_一二三"</span>);</pre></div><h2 id="r_8068407a3b82aa8f" class="element heading2" data-element-id="8068407a3b82aa8f"><div class="r_heading_inner"><span class="heading2_n">4.2</span><span>LocalStorage에 값을 반환받기</span></div></h2><pre id="r_993e591b7cb9b018" class="element pre" data-element-id="993e591b7cb9b018">원하는 시점에 함수 '$p.local.getItem'를 이용하여 스크립트를 작성합니다.</pre><p id="r_d8199784cf64e979" class="element r_bold_p" data-element-id="d8199784cf64e979">[소스 코드 예시]</p><div id="r_db9dfdd70458cfe7" class="element code support_code_numbering" data-element-id="db9dfdd70458cfe7"><pre><span class="digits_1 code_line"></span><span class="r_h_comment_span">// 예제 파일에서는 스크립트 scwin.btn_exam2_onclick에 작성되어 있습니다.</span>
<span class="digits_1 code_line"></span>
<span class="digits_1 code_line"></span><span class="r_h_comment_span">// LocalStorage의 키 "EXAMPLE_P00270"의 값을 반환받습니다.</span>
<span class="digits_1 code_line"></span><span class="r_h_keyword_span">let</span> strItem = $p.local.getItem(<span class="r_h_string_span">"EXAMPLE_P00270"</span>);</pre></div><h2 id="r_958214c190005d37" class="element heading2" data-element-id="958214c190005d37"><div class="r_heading_inner"><span class="heading2_n">4.3</span><span>LocalStorage에 값을 삭제하기</span></div></h2><pre id="r_59fb55cff7806497" class="element pre" data-element-id="59fb55cff7806497">원하는 시점에 함수 '$p.local.removetItem'를 이용하여 스크립트를 작성합니다.</pre><p id="r_963f9f39078ff70a" class="element r_bold_p" data-element-id="963f9f39078ff70a">[소스 코드 예시]</p><div id="r_565f3a2b3ccbe295" class="element code support_code_numbering" data-element-id="565f3a2b3ccbe295"><pre><span class="digits_1 code_line"></span><span class="r_h_comment_span">// 예제 파일에서는 스크립트 scwin.btn_exam3_onclick에 작성되어 있습니다.</span>
<span class="digits_1 code_line"></span>
<span class="digits_1 code_line"></span><span class="r_h_comment_span">// LocalStorage의 키 "EXAMPLE_P00270"를 삭제합니다.</span>
<span class="digits_1 code_line"></span>$p.local.removeItem(<span class="r_h_string_span">"EXAMPLE_P00270"</span>);</pre></div><h1 id="r_645ae16db1420ce3" class="element heading1" data-element-id="645ae16db1420ce3"><div class="r_heading_inner"><span class="heading1_n">5</span><span>주요 API</span></div></h1><ul id="r_a51c5f37c9e089c3" class="element unordered_list" data-element-id="a51c5f37c9e089c3"><li><p><span class="r_ex_api_utility_span">$p.local.setItem</span></p></li><li><p><span class="r_ex_api_utility_span">$p.local.getItem</span></p></li><li><p><span class="r_ex_api_utility_span">$p.local.removeItem</span></p></li></ul></div></body></html>
<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ko"><head><title>Generator 기본 기능</title><link rel="stylesheet" href="css/book.css" type="text/css" /><meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8" /><meta name="EPB-UUID" content="db7d7f842b451ed6" /></head><body><div id="content"><h1 id="r_fa53cd799e9f37db" class="chapter_title">Generator 기본 기능</h1><h1 id="r_36a0383d500e931c" class="element heading1" data-element-id="36a0383d500e931c"><div class="r_heading_inner"><span class="heading1_n">1</span><span>개요</span></div></h1><pre id="r_658c45c4410cb1ce" class="element pre" data-element-id="658c45c4410cb1ce">Generator는 자식을 구성할 수 있는 컨테이너성 컴포넌트입니다. 동적으로 자식 컴포넌트를 반복(추가), 삭제하는 기능을 제공합니다.
주로 반복되는 컴포넌트의 유형이 결정되어 있는 경우 사용합니다. 입력 서식을 동적으로 구성하거나, 게시판(표)의 목록 출력, 달력 UI 구성 등에 활용됩니다.

이 예제에 구현된 기능은 아래와 같습니다.</pre><ul id="r_ab8f15414a798fb4" class="element unordered_list" data-element-id="ab8f15414a798fb4"><li><p>컴포넌트 반복하기</p></li><li><p>반복된 컴포넌트에 접근하기</p></li><li><p>반복된 컴포넌트 전체 삭제하기</p></li></ul><p id="r_9a9352d1b79c9974" class="element r_example_link_p" data-element-id="9a9352d1b79c9974"><a class="link" href="http://example.websquare.kr/exampleLink.html?p=P00035">P00035</a></p><h1 id="r_81355b9fc6a2bec7" class="element heading1" data-element-id="81355b9fc6a2bec7"><div class="r_heading_inner"><span class="heading1_n">2</span><span>예제 테스트 방법</span></div></h1><dl id="r_6b93c0b2bd3a1a0f" class="element definition_list" data-element-id="6b93c0b2bd3a1a0f"><dt>컴포넌트 반복(추가)하기</dt><dd><p><span class="r_btn_style_span">addItem</span>버튼을 클릭합니다.</p><p>마지막 행 하위로 컴포넌트가 추가됩니다.</p><p>추가된 컴포넌트의 inputbox 컴포넌트의 value에 반복된 index값이 출력됩니다.</p></dd><dt>반복된 행의 다른 컴포넌트(inputBox)의 값(value) 가져오기</dt><dd><p>반복된 행의 <span class="r_btn_style_span">getValue</span>버튼을 클릭합니다.</p><p>버튼이 위치한 행의 inputbox에 입력된 값(value)이 alert으로 출력됩니다.</p></dd><dt>반복된 UI(자식 컴포넌트) 모두 삭제하기</dt><dd><p><span class="r_btn_style_span">removeAll</span>버튼을 클릭합니다.</p><p>반복된 목록이 모두 삭제됩니다.</p></dd></dl><h1 id="r_792092ad0ae984b0" class="element heading1" data-element-id="792092ad0ae984b0"><div class="r_heading_inner"><span class="heading1_n">3</span><span>주의사항</span></div></h1><div id="r_0724c0a1f23004e8" class="element caution" data-element-id="0724c0a1f23004e8"><p>• 아래의 컴포넌트는 반복(자식) 컴포넌트로 사용할 수 없습니다.</p><p>Chart, GridView, Menu, Switch, TabControl, TreeView, WindowContainer</p><p class="blank"><br/></p><p>• 반복되는 유형이 고정되어 있지 않은 경우, 해당 유형을 미리 정의한 뒤 script로 조건에 따라 노출을 해야합니다.</p><p class="blank"><br/></p><p>• 반복된 컴포넌트는 컴포넌트의 ID로 직접 접근이 불가하며, Generator 컴포넌트에서 제공하는 method를 이용하여 접근해야 합니다. (컴포넌트의 ID는 중복을 허용하지 않기 때문에 반복된 컴포넌트의 ID는 웹스퀘어 엔진이 동적으로 할당합니다.)</p><p class="blank"><br/></p><p>• Generator 컴포넌트는 브라우저에 div로 출력됩니다. tagname 속성 설정을 통해 변경할 수 있습니다.</p></div><h1 id="r_fbfbb4d938adaeeb" class="element heading1" data-element-id="fbfbb4d938adaeeb"><div class="r_heading_inner"><span class="heading1_n">4</span><span>주요 API</span></div></h1><dl id="r_b910b156c4ee424c" class="element definition_list" data-element-id="b910b156c4ee424c"><dt><span class="r_ex_api_method_span">insertChild( index )</span></dt><dd><p>반복부(자식 컴포넌트)를 추가할 수 있는 기능으로, index로 추가할 위치를 결정할 수 있습니다. index가 생략된 경우 마지막에 추가됩니다.</p></dd><dt><span class="r_ex_api_method_span">getChild( index , id )</span></dt><dd><p>반복된 컴포넌트를 반환 받을 수 있습니다.</p></dd></dl><h1 id="r_528bdb0018d2a3b0" class="element heading1" data-element-id="528bdb0018d2a3b0"><div class="r_heading_inner"><span class="heading1_n">5</span><span>구현 예시</span></div></h1><h2 id="r_72f4222f4b04310f" class="element heading2" data-element-id="72f4222f4b04310f"><div class="r_heading_inner"><span class="heading2_n">5.1</span><span>UI 구성하기</span></div></h2><pre id="r_6a74c2c8bec4c236" class="element pre" data-element-id="6a74c2c8bec4c236">1. generator 컴포넌트를 배치하고 id 속성을 정의합니다.
<code>ex) id="gen_box"</code>

2. 배치한 generator 컴포넌트의 안쪽(자식)에 반복할 컴포넌트를 배치합니다.
반복할 컴포넌트 중 스크립트에서 접근해야 할 컴포넌트가 있는 경우 id 속성을 정의합니다.
예제의 경우 inputbox의 id 속성을 "ibx_gen_input"로, trigger(버튼)의 id 속성을 "btn_gen_trigger"로 정의되었습니다.

3. (필요한 경우)자식 컴포넌트에 이벤트를 적용합니다.
보통 하나의 이벤트 핸들러에서 조건에 의해 분기하여 로직을 구성합니다.
예제의 경우 [getValue] 버튼에 onclick 이벤트를 할당하고 핸들러는 "scwin.btn_gen_trigger_onclick" 로 정의되었습니다.</pre><div id="r_8c8114d3b656c007" class="element image to_none" data-element-id="8c8114d3b656c007"><p class="caption"><span class="image_caption_n">그림 1.</span>컴포넌트 구성 Outline 참고 이미지</p><p class="content"><img alt="" src="images/image337.png" width="570" height="191" /></p></div><p id="r_18216b1b4bcf18ff" class="element normal" data-element-id="18216b1b4bcf18ff">아래는 소스코드 예시입니다.</p><div id="r_9809e172114bac4f" class="element code support_code_numbering" data-element-id="9809e172114bac4f"><pre><span class="digits_10 code_line"></span>&lt;w2:generator <span class="r_h_attribute_name_span">style</span>=<span class="r_h_attribute_value_span">""</span> <span class="r_h_attribute_name_span">id</span>=<span class="r_h_attribute_value_span">"gen_box"</span>&gt;
<span class="digits_10 code_line"></span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;xf:group <span class="r_h_attribute_name_span">style</span>=<span class="r_h_attribute_value_span">"width: 510px; border: 1px solid #eee; margin-bottom: 5px;"</span> <span class="r_h_attribute_name_span">id</span>=<span class="r_h_attribute_value_span">"grp_gen_group"</span>&gt;
<span class="digits_10 code_line"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;w2:textbox <span class="r_h_attribute_name_span">id</span>=<span class="r_h_attribute_value_span">"tbx_gen_label"</span> <span class="r_h_attribute_name_span">label</span>=<span class="r_h_attribute_value_span">"Lable"</span><span class="r_h_attribute_name_span">
<span class="digits_10 code_line"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;style</span>=<span class="r_h_attribute_value_span">"padding: 10px 20px; margin-right: 5px; display: inline-block; font-size: 13px;"</span> <span class="r_h_attribute_name_span">tagname</span>=<span class="r_h_attribute_value_span">"label"</span>&gt;
<span class="digits_10 code_line"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/w2:textbox&gt;
<span class="digits_10 code_line"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xf:input <span class="r_h_attribute_name_span">adjustMaxLength</span>=<span class="r_h_attribute_value_span">"false"</span> <span class="r_h_attribute_name_span">id</span>=<span class="r_h_attribute_value_span">"ibx_gen_input"</span> <span class="r_h_attribute_name_span">style</span>=<span class="r_h_attribute_value_span">"margin-right: 5px;"</span>&gt;&lt;/xf:input&gt;
<span class="digits_10 code_line"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xf:trigger <span class="r_h_attribute_name_span">type</span>=<span class="r_h_attribute_value_span">"button"</span> <span class="r_h_attribute_name_span">style</span>=<span class="r_h_attribute_value_span">"width: 80px; height: 28px; margin-right:5px;"</span> <span class="r_h_attribute_name_span">id</span>=<span class="r_h_attribute_value_span">"btn_gen_trigger"</span><span class="r_h_attribute_name_span">
<span class="digits_10 code_line"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ev:onclick</span>=<span class="r_h_attribute_value_span">"scwin.btn_gen_trigger_onclick"</span>&gt;
<span class="digits_10 code_line"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xf:label&gt;&lt;![CDATA[getValue]]&gt;&lt;/xf:label&gt;
<span class="digits_10 code_line"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/xf:trigger&gt;
<span class="digits_10 code_line"></span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/xf:group&gt;
<span class="digits_10 code_line"></span>&lt;/w2:generator&gt;</pre></div><h2 id="r_1e31a91e27253a5a" class="element heading2" data-element-id="1e31a91e27253a5a"><div class="r_heading_inner"><span class="heading2_n">5.2</span><span>Generator의 자식 컴포넌트를 추가하기</span></div></h2><p id="r_7d992a60530b0e3d" class="element normal" data-element-id="7d992a60530b0e3d">Generator 컴포넌트의 insertChild method를 사용합니다.</p><div id="r_fcfcd7c496e7feb8" class="element code support_code_numbering" data-element-id="fcfcd7c496e7feb8"><pre><span class="digits_1 code_line"></span><span class="r_h_comment_span">//예시1) id가 "gen_box" 인 genderator 컴포넌트의 마지막에 추가하는 경우</span>
<span class="digits_1 code_line"></span>gen_box.insertChild();
<span class="digits_1 code_line"></span>
<span class="digits_1 code_line"></span><span class="r_h_comment_span">//예시2) id가 "gen_box" 인 genderator 컴포넌트 첫번째에 추가하는 경우</span>
<span class="digits_1 code_line"></span>gen_box.insertChild(<span class="r_h_number_span">0</span>);</pre></div><h2 id="r_ccd030646f77c71e" class="element heading2" data-element-id="ccd030646f77c71e"><div class="r_heading_inner"><span class="heading2_n">5.3</span><span>추가된 Generator의 자식 컴포넌트 제어하기</span></div></h2><p id="r_8990b3db43b53a31" class="element normal" data-element-id="8990b3db43b53a31">예시1) 추가된 자식 컴포넌트의 index를 알고 있는 경우.</p><div id="r_0335c53f01c641f5" class="element code support_code_numbering" data-element-id="0335c53f01c641f5"><pre><span class="digits_1 code_line"></span><span class="r_h_comment_span">//id가 "gen_box" 인 genderator 컴포넌트의 0번째에 추가된 자식 컴포넌트 중 id가 "tbx_gen_label" 인 컴포넌트를 반환 받습니다.</span>
<span class="digits_1 code_line"></span><span class="r_h_keyword_span">var</span> cmpChild = gen_box.getChild( <span class="r_h_number_span">0</span> , <span class="r_h_string_span">"tbx_gen_label"</span> );
<span class="digits_1 code_line"></span>
<span class="digits_1 code_line"></span><span class="r_h_comment_span">//반환받은 컴포넌트의 value를 "websquare"로 설정합니다.</span>
<span class="digits_1 code_line"></span>cmpChild.setValue(<span class="r_h_string_span">"websquare"</span>);</pre></div><p id="r_8aca42d1a3431ff1" class="element normal" data-element-id="8aca42d1a3431ff1">예시2) 마지막에 추가된 컴포넌트에 접근하는 경우.</p><div id="r_9705af19e3dc50fa" class="element code support_code_numbering" data-element-id="9705af19e3dc50fa"><pre><span class="digits_10 code_line"></span><span class="r_h_comment_span">/**
<span class="digits_10 code_line"></span> * 전제 사항
<span class="digits_10 code_line"></span> * 1. Generator의 id는 "gen_box" 입니다.
<span class="digits_10 code_line"></span>*/</span> 
<span class="digits_10 code_line"></span>
<span class="digits_10 code_line"></span><span class="r_h_comment_span">//Generator의 getLength() method로 추가된 자식 컴포넌트의 수를 반환 받습니다.</span>
<span class="digits_10 code_line"></span><span class="r_h_comment_span">//자식 컴포넌트는 index로 접근해야 하기 때문에 (반복된 건수 -1)로 index를 구합니다.</span>
<span class="digits_10 code_line"></span><span class="r_h_keyword_span">var</span> numLastIndex = gen_box.getLength() - <span class="r_h_number_span">1</span>;
<span class="digits_10 code_line"></span>
<span class="digits_10 code_line"></span><span class="r_h_comment_span">//자식 컴포넌트 중 id 속성이 "tbx_gen_label" 인 컴포넌트를 반환 받습니다.</span>
<span class="digits_10 code_line"></span><span class="r_h_keyword_span">var</span> cmpChild = gen_box.getChild( numLastIndex , <span class="r_h_string_span">"tbx_gen_label"</span> );</pre></div></div></body></html>